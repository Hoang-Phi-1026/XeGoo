[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 01:19:02
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 01:19:02
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 01:49:02
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 01:19:02, End: 2025-11-20 01:49:02
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 01:19:02, 2025-11-20 01:49:02]
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 01:19:02
[20-Nov-2025 01:19:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 01:24:01
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 01:24:01
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 01:54:01
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 01:24:01, End: 2025-11-20 01:54:01
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 01:24:01, 2025-11-20 01:54:01]
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 01:24:01
[20-Nov-2025 01:24:01 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 10:34:01
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 10:34:01
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 11:04:01
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 10:34:01, End: 2025-11-20 11:04:01
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 10:34:01, 2025-11-20 11:04:01]
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 10:34:01
[20-Nov-2025 10:34:01 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 10:39:01
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 10:39:01
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 11:09:01
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 10:39:01, End: 2025-11-20 11:09:01
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 10:39:01, 2025-11-20 11:09:01]
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 10:39:01
[20-Nov-2025 10:39:01 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 10:44:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 10:44:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 10:44:02
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 10:44:03
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 11:14:03
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 10:44:03, End: 2025-11-20 11:14:03
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 10:44:03, 2025-11-20 11:14:03]
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 10:44:03
[20-Nov-2025 10:44:03 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 10:53:47
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 10:53:47
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 11:23:47
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 10:53:47, End: 2025-11-20 11:23:47
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 10:53:47, 2025-11-20 11:23:47]
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 10:53:47
[20-Nov-2025 10:53:47 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 10:54:02
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 10:54:02
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 11:24:02
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 10:54:02, End: 2025-11-20 11:24:02
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 10:54:02, 2025-11-20 11:24:02]
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 10:54:02
[20-Nov-2025 10:54:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 10:59:02
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 10:59:02
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 11:29:02
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 10:59:02, End: 2025-11-20 11:29:02
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 10:59:02, 2025-11-20 11:29:02]
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 10:59:02
[20-Nov-2025 10:59:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 11:04:04
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 11:04:04
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 11:34:04
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 11:04:04, End: 2025-11-20 11:34:04
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 11:04:04, 2025-11-20 11:34:04]
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 11:04:04
[20-Nov-2025 11:04:04 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 11:09:02
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 11:09:02
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 11:39:02
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 11:09:02, End: 2025-11-20 11:39:02
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 11:09:02, 2025-11-20 11:39:02]
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 11:09:02
[20-Nov-2025 11:09:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 11:14:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 11:14:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 11:14:02
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 11:14:03
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 11:44:03
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 11:14:03, End: 2025-11-20 11:44:03
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 11:14:03, 2025-11-20 11:44:03]
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 11:14:03
[20-Nov-2025 11:14:03 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 11:19:02
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 11:19:02
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 11:49:02
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 11:19:02, End: 2025-11-20 11:49:02
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 11:19:02, 2025-11-20 11:49:02]
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 11:19:02
[20-Nov-2025 11:19:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 11:24:03
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 11:24:03
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 11:54:03
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 11:24:03, End: 2025-11-20 11:54:03
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 11:24:03, 2025-11-20 11:54:03]
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 11:24:03
[20-Nov-2025 11:24:03 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 11:29:02
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 11:29:02
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 11:59:02
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 11:29:02, End: 2025-11-20 11:59:02
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 11:29:02, 2025-11-20 11:59:02]
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 11:29:02
[20-Nov-2025 11:29:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 11:34:02
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 11:34:02
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 12:04:02
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 11:34:02, End: 2025-11-20 12:04:02
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 11:34:02, 2025-11-20 12:04:02]
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 11:34:02
[20-Nov-2025 11:34:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 11:39:03
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 11:39:03
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 12:09:03
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 11:39:03, End: 2025-11-20 12:09:03
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 11:39:03, 2025-11-20 12:09:03]
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 11:39:03
[20-Nov-2025 11:39:03 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 11:44:02
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 11:44:02
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 12:14:02
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 11:44:02, End: 2025-11-20 12:14:02
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 11:44:02, 2025-11-20 12:14:02]
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 11:44:02
[20-Nov-2025 11:44:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 11:49:02
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 11:49:02
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 12:19:02
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 11:49:02, End: 2025-11-20 12:19:02
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 11:49:02, 2025-11-20 12:19:02]
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 1 trips departing in next 30 minutes
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] [ReminderEmail] Processing trip: 1027, departure: 2025-11-20 12:00:00
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 1 bookings for trip 1027
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] [EmailService] sendPreDepartureReminderEmail - START
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] [EmailService] Sending reminder email to: customer@xegoo.com
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 3: Connection: opening to smtp.gmail.com:587, timeout=300, options=array (
  'ssl' => 
  array (
    'verify_peer' => false,
    'verify_peer_name' => false,
    'allow_self_signed' => true,
  ),
)
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 3: Connection: opened
[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 220 smtp.gmail.com ESMTP d2e1a72fcca58-7c3ecf7d70asm1112971b3a.13 - gsmtp

[20-Nov-2025 11:49:02 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: EHLO DESKTOP-02R67J0

[20-Nov-2025 11:49:03 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 250-smtp.gmail.com at your service, [2001:ee0:5547:6e60:71c0:a338:b14e:520a]
250-SIZE 35882577
250-8BITMIME
250-STARTTLS
250-ENHANCEDSTATUSCODES
250-PIPELINING
250-CHUNKING
250 SMTPUTF8

[20-Nov-2025 11:49:03 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: STARTTLS

[20-Nov-2025 11:49:03 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 220 2.0.0 Ready to start TLS

[20-Nov-2025 11:49:03 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: EHLO DESKTOP-02R67J0

[20-Nov-2025 11:49:04 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 250-smtp.gmail.com at your service, [2001:ee0:5547:6e60:71c0:a338:b14e:520a]
250-SIZE 35882577
250-8BITMIME
250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH
250-ENHANCEDSTATUSCODES
250-PIPELINING
250-CHUNKING
250 SMTPUTF8

[20-Nov-2025 11:49:04 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: AUTH LOGIN

[20-Nov-2025 11:49:04 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 334 VXNlcm5hbWU6

[20-Nov-2025 11:49:04 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: [credentials hidden]
[20-Nov-2025 11:49:04 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 334 UGFzc3dvcmQ6

[20-Nov-2025 11:49:04 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: [credentials hidden]
[20-Nov-2025 11:49:04 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 235 2.7.0 Accepted

[20-Nov-2025 11:49:04 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: MAIL FROM:<xegoo.notifications@gmail.com>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 250 2.1.0 OK d2e1a72fcca58-7c3ecf7d70asm1112971b3a.13 - gsmtp

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: RCPT TO:<customer@xegoo.com>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 250 2.1.5 OK d2e1a72fcca58-7c3ecf7d70asm1112971b3a.13 - gsmtp

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: DATA

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 354 Go ahead d2e1a72fcca58-7c3ecf7d70asm1112971b3a.13 - gsmtp

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Date: Thu, 20 Nov 2025 11:49:02 +0700

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: To: =?UTF-8?B?UGjhuqFtIFRo4buLIERpbg==?= <customer@xegoo.com>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: From: =?UTF-8?Q?H=E1=BB=87_th=E1=BB=91ng_XeGoo?= <xegoo.notifications@gmail.com>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Subject: =?UTF-8?B?4o+wIE5o4bqvYyBuaOG7nzogQ2h1eeG6v24geGUgY+G7p2EgYuG6oW4gcw==?=

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:  =?UTF-8?B?4bqvcCBraOG7n2kgaMOgbmggLSBETC1TRw==?=

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Message-ID: <EyT8S309TN48m7LiBgjjGWC1Bnt7CU5QeM02UdSOU@DESKTOP-02R67J0>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: X-Mailer: PHPMailer 6.11.1 (https://github.com/PHPMailer/PHPMailer)

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: MIME-Version: 1.0

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Content-Type: multipart/alternative;

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:  boundary="b1=_EyT8S309TN48m7LiBgjjGWC1Bnt7CU5QeM02UdSOU"

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Content-Transfer-Encoding: 8bit

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: --b1=_EyT8S309TN48m7LiBgjjGWC1Bnt7CU5QeM02UdSOU

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Content-Type: text/plain; charset=UTF-8

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Content-Transfer-Encoding: 8bit

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: ⏰ NHẮC NHỞ: CHUYẾN XE SẮP KHỞI HÀNH

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Xin chào Phạm Thị Din,

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Chuyến xe của bạn sắp khởi hành trong 30 phút tới. Vui lòng tích cực chuẩn bị!

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: THÔNG TIN CHUYẾN XE:

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: - Tuyến đường: Đà Lạt → TP. Hồ Chí Minh

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: - Ngày: 2025-11-20

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: - Giờ khởi hành: 2025-11-20 12:00:00 (CHÍNH XÁC)

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: - Số vé: 1

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: - Tài xế: Hà Văn La

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: - SĐT tài xế: 0909090933

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: LƯU Ý QUAN TRỌNG:

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 1. Vui lòng có mặt tại điểm đón trước 15 phút

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 2. Mang theo vé hoặc mã số đặt vé của bạn

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 3. Nếu không thể đi, vui lòng hủy vé sớm nhất có thể

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Cần hỗ trợ? Liên hệ tài xế hoặc chúng tôi qua ứng dụng XeGoo.

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: ---

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Đây là email tự động từ hệ thống XeGoo. Vui lòng không trả lời email này.

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: © 2025 XeGoo - Hệ Thống Đặt Vé Xe Khách Trực Tuyến

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: --b1=_EyT8S309TN48m7LiBgjjGWC1Bnt7CU5QeM02UdSOU

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Content-Type: text/html; charset=UTF-8

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Content-Transfer-Encoding: 8bit

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: <!DOCTYPE html>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: <html>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: <head>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:     <meta charset="UTF-8">

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:     <style>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         body { font-family: Arial, sans-serif; color: #333; line-height: 1.6; }

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .container { max-width: 600px; margin: 0 auto; padding: 20px; background: #f9f9f9; }

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .header { background: #FF6B35; color: white; padding: 20px; text-align: center; border-radius: 5px; }

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .content { background: white; padding: 20px; margin-top: 10px; border-radius: 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .trip-info { background: #FFF3E0; padding: 15px; border-left: 4px solid #FF6B35; margin: 15px 0; }

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .trip-detail { margin: 10px 0; display: flex; justify-content: space-between; }

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .label { font-weight: bold; color: #555; }

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .value { color: #333; }

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .button { display: inline-block; background: #FF6B35; color: white; padding: 12px 20px; text-decoration: none; border-radius: 5px; margin-top: 15px; }

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .footer { text-align: center; font-size: 12px; color: #999; margin-top: 20px; padding-top: 20px; border-top: 1px solid #ddd; }

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .warning { background: #FFF3CD; border-left: 4px solid #FFC107; padding: 15px; margin: 15px 0; border-radius: 5px; }

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:     </style>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: </head>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: <body>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:     <div class="container">

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         <div class="header">

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             <h1>⏰ NHẮC NHỞ: CHUYẾN XE SẮP KHỞI HÀNH</h1>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         </div>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         <div class="content">

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             <p>Xin chào <strong>Phạm Thị Din</strong>,</p>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             <p>Chuyến xe của bạn sắp khởi hành trong <strong>30 phút tới</strong>. Vui lòng tích cực chuẩn bị để không bỏ lỡ chuyến xe!</p>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             <div class="trip-info">

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 <h2 style="margin-top: 0; color: #FF6B35;">Thông Tin Chuyến Xe</h2>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 <div class="trip-detail">

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="label">🚌 Tuyến đường:</span>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="value">Đà Lạt → TP. Hồ Chí Minh</span>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 </div>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 <div class="trip-detail">

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="label">📅 Ngày:</span>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="value">2025-11-20</span>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 </div>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 <div class="trip-detail">

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="label">⏰ Giờ khởi hành:</span>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="value"><strong>2025-11-20 12:00:00</strong></span>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 </div>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 <div class="trip-detail">

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="label">🎫 Số vé:</span>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="value">1</span>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 </div>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 <div class="trip-detail">

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="label">👨‍✈️ Tài xế:</span>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="value">Hà Văn La</span>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 </div>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 <div class="trip-detail">

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="label">📞 SĐT tài xế:</span>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="value">0909090933</span>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 </div>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             </div>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             <div class="warning">

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 <strong>⚠️ Lưu ý quan trọng:</strong>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 <ul>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <li>Vui lòng có mặt tại điểm đón trước 15 phút</li>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <li>Mang theo vé hoặc mã số đặt vé của bạn</li>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <li>Nếu không thể đi, vui lòng hủy vé sớm nhất có thể</li>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 </ul>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             </div>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             <p><strong>Cần hỗ trợ?</strong><br>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             Liên hệ tài xế hoặc chúng tôi qua ứng dụng XeGoo để được giúp đỡ ngay lập tức.</p>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             <a href="https://xegoo.com" class="button">Xem Thêm Chi Tiết</a>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         </div>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         <div class="footer">

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             <p>Đây là email tự động từ hệ thống XeGoo. Vui lòng không trả lời email này.</p>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             <p>&copy; 2025 XeGoo - Hệ Thống Đặt Vé Xe Khách Trực Tuyến</p>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         </div>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:     </div>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: </body>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: </html>

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: --b1=_EyT8S309TN48m7LiBgjjGWC1Bnt7CU5QeM02UdSOU--

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 11:49:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: .

[20-Nov-2025 11:49:06 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 250 2.0.0 OK  1763614153 d2e1a72fcca58-7c3ecf7d70asm1112971b3a.13 - gsmtp

[20-Nov-2025 11:49:06 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: QUIT

[20-Nov-2025 11:49:07 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 221 2.0.0 closing connection d2e1a72fcca58-7c3ecf7d70asm1112971b3a.13 - gsmtp

[20-Nov-2025 11:49:07 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 3: Connection: closed
[20-Nov-2025 11:49:07 Asia/Ho_Chi_Minh] [EmailService] ✅ Pre-departure reminder sent to: customer@xegoo.com
[20-Nov-2025 11:49:07 Asia/Ho_Chi_Minh] [ReminderEmail] Recorded reminder: booking=128, trip=1027, status=sent
[20-Nov-2025 11:49:07 Asia/Ho_Chi_Minh] [ReminderEmail] Created in-app notification for user=4, booking=128, trip=1027
[20-Nov-2025 11:49:07 Asia/Ho_Chi_Minh] [ReminderEmail] ✅ Reminder email sent successfully to customer@xegoo.com for booking 128
[20-Nov-2025 11:49:07 Asia/Ho_Chi_Minh] [ReminderEmail] === REMINDER EMAIL PROCESS COMPLETED ===
[20-Nov-2025 11:49:07 Asia/Ho_Chi_Minh] [ReminderEmail] Reminders sent: 1, Failed: 0
[20-Nov-2025 11:49:07 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"G\u1eedi th\u00e0nh c\u00f4ng 1 email, l\u1ed7i 0","remindersSent":1,"remindersFailed":0}
[20-Nov-2025 11:49:07 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 11:49:07
[20-Nov-2025 11:49:07 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 11:54:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 11:54:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 11:54:02
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 11:54:03
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 12:24:03
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 11:54:03, End: 2025-11-20 12:24:03
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 11:54:03, 2025-11-20 12:24:03]
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] [ReminderEmail] Found 1 trips departing in next 30 minutes
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] [ReminderEmail] Processing trip: 1027, departure: 2025-11-20 12:00:00
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] [ReminderEmail] Found 1 bookings for trip 1027
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] [ReminderEmail] Reminder already sent for booking 128, trip 1027. Skipping to prevent spam.
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] [ReminderEmail] === REMINDER EMAIL PROCESS COMPLETED ===
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] [ReminderEmail] Reminders sent: 0, Failed: 0
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"G\u1eedi th\u00e0nh c\u00f4ng 0 email, l\u1ed7i 0","remindersSent":0,"remindersFailed":0}
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 11:54:03
[20-Nov-2025 11:54:03 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 11:59:02
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 11:59:02
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 12:29:02
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 11:59:02, End: 2025-11-20 12:29:02
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 11:59:02, 2025-11-20 12:29:02]
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 1 trips departing in next 30 minutes
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] Processing trip: 1027, departure: 2025-11-20 12:00:00
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 1 bookings for trip 1027
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] Reminder already sent for booking 128, trip 1027. Skipping to prevent spam.
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] === REMINDER EMAIL PROCESS COMPLETED ===
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] [ReminderEmail] Reminders sent: 0, Failed: 0
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"G\u1eedi th\u00e0nh c\u00f4ng 0 email, l\u1ed7i 0","remindersSent":0,"remindersFailed":0}
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 11:59:02
[20-Nov-2025 11:59:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 12:04:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 12:04:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 12:04:02
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 12:04:03
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 12:34:03
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 12:04:03, End: 2025-11-20 12:34:03
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 12:04:03, 2025-11-20 12:34:03]
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 12:04:03
[20-Nov-2025 12:04:03 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 12:09:02
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 12:09:02
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 12:39:02
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 12:09:02, End: 2025-11-20 12:39:02
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 12:09:02, 2025-11-20 12:39:02]
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 12:09:02
[20-Nov-2025 12:09:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 12:14:02
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 12:14:02
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 12:44:02
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 12:14:02, End: 2025-11-20 12:44:02
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 12:14:02, 2025-11-20 12:44:02]
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 1 trips departing in next 30 minutes
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [ReminderEmail] Processing trip: 1162, departure: 2025-11-20 12:30:00
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 1 bookings for trip 1162
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [EmailService] sendPreDepartureReminderEmail - START
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [EmailService] Sending reminder email to: customer@xegoo.com
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 3: Connection: opening to smtp.gmail.com:587, timeout=300, options=array (
  'ssl' => 
  array (
    'verify_peer' => false,
    'verify_peer_name' => false,
    'allow_self_signed' => true,
  ),
)
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 3: Connection: opened
[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 220 smtp.gmail.com ESMTP d9443c01a7336-29b5b111aa8sm11972915ad.11 - gsmtp

[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: EHLO DESKTOP-02R67J0

[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 250-smtp.gmail.com at your service, [2001:ee0:5547:6e60:71c0:a338:b14e:520a]
250-SIZE 35882577
250-8BITMIME
250-STARTTLS
250-ENHANCEDSTATUSCODES
250-PIPELINING
250-CHUNKING
250 SMTPUTF8

[20-Nov-2025 12:14:02 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: STARTTLS

[20-Nov-2025 12:14:03 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 220 2.0.0 Ready to start TLS

[20-Nov-2025 12:14:03 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: EHLO DESKTOP-02R67J0

[20-Nov-2025 12:14:03 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 250-smtp.gmail.com at your service, [2001:ee0:5547:6e60:71c0:a338:b14e:520a]
250-SIZE 35882577
250-8BITMIME
250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH
250-ENHANCEDSTATUSCODES
250-PIPELINING
250-CHUNKING
250 SMTPUTF8

[20-Nov-2025 12:14:03 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: AUTH LOGIN

[20-Nov-2025 12:14:04 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 334 VXNlcm5hbWU6

[20-Nov-2025 12:14:04 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: [credentials hidden]
[20-Nov-2025 12:14:04 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 334 UGFzc3dvcmQ6

[20-Nov-2025 12:14:04 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: [credentials hidden]
[20-Nov-2025 12:14:04 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 235 2.7.0 Accepted

[20-Nov-2025 12:14:04 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: MAIL FROM:<xegoo.notifications@gmail.com>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 250 2.1.0 OK d9443c01a7336-29b5b111aa8sm11972915ad.11 - gsmtp

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: RCPT TO:<customer@xegoo.com>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 250 2.1.5 OK d9443c01a7336-29b5b111aa8sm11972915ad.11 - gsmtp

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: DATA

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 354 Go ahead d9443c01a7336-29b5b111aa8sm11972915ad.11 - gsmtp

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Date: Thu, 20 Nov 2025 12:14:02 +0700

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: To: =?UTF-8?B?UGjhuqFtIFRo4buLIERpbg==?= <customer@xegoo.com>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: From: =?UTF-8?Q?H=E1=BB=87_th=E1=BB=91ng_XeGoo?= <xegoo.notifications@gmail.com>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Subject: =?UTF-8?B?4o+wIE5o4bqvYyBuaOG7nzogQ2h1eeG6v24geGUgY+G7p2EgYuG6oW4gcw==?=

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:  =?UTF-8?B?4bqvcCBraOG7n2kgaMOgbmggLSBWVC1TRw==?=

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Message-ID: <DQDAyUCmbJYUQiSzWIvXPLNRk7EBjMidY91h5JHWS3s@DESKTOP-02R67J0>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: X-Mailer: PHPMailer 6.11.1 (https://github.com/PHPMailer/PHPMailer)

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: MIME-Version: 1.0

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Content-Type: multipart/alternative;

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:  boundary="b1=_DQDAyUCmbJYUQiSzWIvXPLNRk7EBjMidY91h5JHWS3s"

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Content-Transfer-Encoding: 8bit

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: --b1=_DQDAyUCmbJYUQiSzWIvXPLNRk7EBjMidY91h5JHWS3s

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Content-Type: text/plain; charset=UTF-8

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Content-Transfer-Encoding: 8bit

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: ⏰ NHẮC NHỞ: CHUYẾN XE SẮP KHỞI HÀNH

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Xin chào Phạm Thị Din,

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Chuyến xe của bạn sắp khởi hành trong 30 phút tới. Vui lòng tích cực chuẩn bị!

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: THÔNG TIN CHUYẾN XE:

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: - Tuyến đường: Vũng Tàu → TP. Hồ Chí Minh

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: - Ngày: 2025-11-20

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: - Giờ khởi hành: 2025-11-20 12:30:00 (CHÍNH XÁC)

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: - Số vé: 1

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: - Tài xế: Trần Văn Dũng

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: - SĐT tài xế: 1234567444

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: LƯU Ý QUAN TRỌNG:

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 1. Vui lòng có mặt tại điểm đón trước 15 phút

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 2. Mang theo vé hoặc mã số đặt vé của bạn

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 3. Nếu không thể đi, vui lòng hủy vé sớm nhất có thể

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Cần hỗ trợ? Liên hệ tài xế hoặc chúng tôi qua ứng dụng XeGoo.

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: ---

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Đây là email tự động từ hệ thống XeGoo. Vui lòng không trả lời email này.

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: © 2025 XeGoo - Hệ Thống Đặt Vé Xe Khách Trực Tuyến

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: --b1=_DQDAyUCmbJYUQiSzWIvXPLNRk7EBjMidY91h5JHWS3s

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Content-Type: text/html; charset=UTF-8

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: Content-Transfer-Encoding: 8bit

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: <!DOCTYPE html>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: <html>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: <head>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:     <meta charset="UTF-8">

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:     <style>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         body { font-family: Arial, sans-serif; color: #333; line-height: 1.6; }

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .container { max-width: 600px; margin: 0 auto; padding: 20px; background: #f9f9f9; }

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .header { background: #FF6B35; color: white; padding: 20px; text-align: center; border-radius: 5px; }

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .content { background: white; padding: 20px; margin-top: 10px; border-radius: 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .trip-info { background: #FFF3E0; padding: 15px; border-left: 4px solid #FF6B35; margin: 15px 0; }

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .trip-detail { margin: 10px 0; display: flex; justify-content: space-between; }

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .label { font-weight: bold; color: #555; }

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .value { color: #333; }

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .button { display: inline-block; background: #FF6B35; color: white; padding: 12px 20px; text-decoration: none; border-radius: 5px; margin-top: 15px; }

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .footer { text-align: center; font-size: 12px; color: #999; margin-top: 20px; padding-top: 20px; border-top: 1px solid #ddd; }

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         .warning { background: #FFF3CD; border-left: 4px solid #FFC107; padding: 15px; margin: 15px 0; border-radius: 5px; }

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:     </style>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: </head>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: <body>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:     <div class="container">

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         <div class="header">

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             <h1>⏰ NHẮC NHỞ: CHUYẾN XE SẮP KHỞI HÀNH</h1>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         </div>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         <div class="content">

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             <p>Xin chào <strong>Phạm Thị Din</strong>,</p>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             <p>Chuyến xe của bạn sắp khởi hành trong <strong>30 phút tới</strong>. Vui lòng tích cực chuẩn bị để không bỏ lỡ chuyến xe!</p>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             <div class="trip-info">

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 <h2 style="margin-top: 0; color: #FF6B35;">Thông Tin Chuyến Xe</h2>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 <div class="trip-detail">

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="label">🚌 Tuyến đường:</span>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="value">Vũng Tàu → TP. Hồ Chí Minh</span>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 </div>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 <div class="trip-detail">

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="label">📅 Ngày:</span>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="value">2025-11-20</span>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 </div>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 <div class="trip-detail">

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="label">⏰ Giờ khởi hành:</span>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="value"><strong>2025-11-20 12:30:00</strong></span>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 </div>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 <div class="trip-detail">

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="label">🎫 Số vé:</span>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="value">1</span>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 </div>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 <div class="trip-detail">

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="label">👨‍✈️ Tài xế:</span>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="value">Trần Văn Dũng</span>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 </div>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 <div class="trip-detail">

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="label">📞 SĐT tài xế:</span>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <span class="value">1234567444</span>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 </div>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             </div>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             <div class="warning">

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 <strong>⚠️ Lưu ý quan trọng:</strong>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 <ul>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <li>Vui lòng có mặt tại điểm đón trước 15 phút</li>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <li>Mang theo vé hoặc mã số đặt vé của bạn</li>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                     <li>Nếu không thể đi, vui lòng hủy vé sớm nhất có thể</li>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:                 </ul>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             </div>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             <p><strong>Cần hỗ trợ?</strong><br>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             Liên hệ tài xế hoặc chúng tôi qua ứng dụng XeGoo để được giúp đỡ ngay lập tức.</p>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             <a href="https://xegoo.com" class="button">Xem Thêm Chi Tiết</a>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         </div>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         <div class="footer">

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             <p>Đây là email tự động từ hệ thống XeGoo. Vui lòng không trả lời email này.</p>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:             <p>&copy; 2025 XeGoo - Hệ Thống Đặt Vé Xe Khách Trực Tuyến</p>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:         </div>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER:     </div>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: </body>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: </html>

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: --b1=_DQDAyUCmbJYUQiSzWIvXPLNRk7EBjMidY91h5JHWS3s--

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: 

[20-Nov-2025 12:14:05 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: .

[20-Nov-2025 12:14:06 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 250 2.0.0 OK  1763615652 d9443c01a7336-29b5b111aa8sm11972915ad.11 - gsmtp

[20-Nov-2025 12:14:06 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 1: CLIENT -> SERVER: QUIT

[20-Nov-2025 12:14:06 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 2: SERVER -> CLIENT: 221 2.0.0 closing connection d9443c01a7336-29b5b111aa8sm11972915ad.11 - gsmtp

[20-Nov-2025 12:14:06 Asia/Ho_Chi_Minh] [PHPMailer Debug] Level 3: Connection: closed
[20-Nov-2025 12:14:06 Asia/Ho_Chi_Minh] [EmailService] ✅ Pre-departure reminder sent to: customer@xegoo.com
[20-Nov-2025 12:14:06 Asia/Ho_Chi_Minh] [ReminderEmail] Recorded reminder: booking=129, trip=1162, status=sent
[20-Nov-2025 12:14:06 Asia/Ho_Chi_Minh] [ReminderEmail] Created in-app notification for user=4, booking=129, trip=1162
[20-Nov-2025 12:14:06 Asia/Ho_Chi_Minh] [ReminderEmail] ✅ Reminder email sent successfully to customer@xegoo.com for booking 129
[20-Nov-2025 12:14:06 Asia/Ho_Chi_Minh] [ReminderEmail] === REMINDER EMAIL PROCESS COMPLETED ===
[20-Nov-2025 12:14:06 Asia/Ho_Chi_Minh] [ReminderEmail] Reminders sent: 1, Failed: 0
[20-Nov-2025 12:14:06 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"G\u1eedi th\u00e0nh c\u00f4ng 1 email, l\u1ed7i 0","remindersSent":1,"remindersFailed":0}
[20-Nov-2025 12:14:06 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 12:14:06
[20-Nov-2025 12:14:06 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 12:19:02
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 12:19:02
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 12:49:02
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 12:19:02, End: 2025-11-20 12:49:02
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 12:19:02, 2025-11-20 12:49:02]
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 1 trips departing in next 30 minutes
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] Processing trip: 1162, departure: 2025-11-20 12:30:00
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 1 bookings for trip 1162
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] Reminder already sent for booking 129, trip 1162. Skipping to prevent spam.
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] === REMINDER EMAIL PROCESS COMPLETED ===
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] Reminders sent: 0, Failed: 0
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"G\u1eedi th\u00e0nh c\u00f4ng 0 email, l\u1ed7i 0","remindersSent":0,"remindersFailed":0}
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 12:19:02
[20-Nov-2025 12:19:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 12:24:02
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 12:24:02
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 12:54:02
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 12:24:02, End: 2025-11-20 12:54:02
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 12:24:02, 2025-11-20 12:54:02]
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 1 trips departing in next 30 minutes
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] [ReminderEmail] Processing trip: 1162, departure: 2025-11-20 12:30:00
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 1 bookings for trip 1162
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] [ReminderEmail] Reminder already sent for booking 129, trip 1162. Skipping to prevent spam.
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] [ReminderEmail] === REMINDER EMAIL PROCESS COMPLETED ===
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] [ReminderEmail] Reminders sent: 0, Failed: 0
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"G\u1eedi th\u00e0nh c\u00f4ng 0 email, l\u1ed7i 0","remindersSent":0,"remindersFailed":0}
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 12:24:02
[20-Nov-2025 12:24:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 12:29:02
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 12:29:02
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 12:59:02
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 12:29:02, End: 2025-11-20 12:59:02
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 12:29:02, 2025-11-20 12:59:02]
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 1 trips departing in next 30 minutes
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] Processing trip: 1162, departure: 2025-11-20 12:30:00
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 1 bookings for trip 1162
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] Reminder already sent for booking 129, trip 1162. Skipping to prevent spam.
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] === REMINDER EMAIL PROCESS COMPLETED ===
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] Reminders sent: 0, Failed: 0
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"G\u1eedi th\u00e0nh c\u00f4ng 0 email, l\u1ed7i 0","remindersSent":0,"remindersFailed":0}
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 12:29:02
[20-Nov-2025 12:29:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 12:34:02
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 12:34:02
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 13:04:02
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 12:34:02, End: 2025-11-20 13:04:02
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 12:34:02, 2025-11-20 13:04:02]
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 12:34:02
[20-Nov-2025 12:34:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 12:39:02
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 12:39:02
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 13:09:02
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 12:39:02, End: 2025-11-20 13:09:02
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 12:39:02, 2025-11-20 13:09:02]
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 12:39:02
[20-Nov-2025 12:39:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 12:44:02
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 12:44:02
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 13:14:02
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 12:44:02, End: 2025-11-20 13:14:02
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 12:44:02, 2025-11-20 13:14:02]
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 12:44:02
[20-Nov-2025 12:44:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 12:49:03 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 12:49:04
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 12:49:04
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 13:19:04
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 12:49:04, End: 2025-11-20 13:19:04
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 12:49:04, 2025-11-20 13:19:04]
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 12:49:04
[20-Nov-2025 12:49:04 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 12:54:02
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 12:54:02
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 13:24:02
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 12:54:02, End: 2025-11-20 13:24:02
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 12:54:02, 2025-11-20 13:24:02]
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 12:54:02
[20-Nov-2025 12:54:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 12:59:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 12:59:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 12:59:02
[20-Nov-2025 12:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 12:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 12:59:03 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 12:59:03 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 12:59:03 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 12:59:03
[20-Nov-2025 12:59:03 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 13:29:03
[20-Nov-2025 12:59:03 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 12:59:03, End: 2025-11-20 13:29:03
[20-Nov-2025 12:59:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 12:59:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 12:59:03, 2025-11-20 13:29:03]
[20-Nov-2025 12:59:03 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 12:59:03 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 12:59:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 12:59:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 12:59:03
[20-Nov-2025 12:59:03 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 13:04:02
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 13:04:02
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 13:34:02
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 13:04:02, End: 2025-11-20 13:34:02
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 13:04:02, 2025-11-20 13:34:02]
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 13:04:02
[20-Nov-2025 13:04:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 13:09:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 13:09:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 13:09:02
[20-Nov-2025 13:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:09:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:09:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 13:09:03 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 13:09:03 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 13:09:03
[20-Nov-2025 13:09:03 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 13:39:03
[20-Nov-2025 13:09:03 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 13:09:03, End: 2025-11-20 13:39:03
[20-Nov-2025 13:09:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 13:09:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 13:09:03, 2025-11-20 13:39:03]
[20-Nov-2025 13:09:03 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 13:09:03 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 13:09:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 13:09:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 13:09:03
[20-Nov-2025 13:09:03 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 13:14:02
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 13:14:02
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 13:44:02
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 13:14:02, End: 2025-11-20 13:44:02
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 13:14:02, 2025-11-20 13:44:02]
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 13:14:02
[20-Nov-2025 13:14:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 13:19:02
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 13:19:02
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 13:49:02
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 13:19:02, End: 2025-11-20 13:49:02
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 13:19:02, 2025-11-20 13:49:02]
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 13:19:02
[20-Nov-2025 13:19:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 13:24:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 13:24:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 13:24:02
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 13:24:03
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 13:54:03
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 13:24:03, End: 2025-11-20 13:54:03
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 13:24:03, 2025-11-20 13:54:03]
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 13:24:03
[20-Nov-2025 13:24:03 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 13:29:02
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 13:29:02
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 13:59:02
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 13:29:02, End: 2025-11-20 13:59:02
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 13:29:02, 2025-11-20 13:59:02]
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 13:29:02
[20-Nov-2025 13:29:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 13:34:02
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 13:34:02
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 14:04:02
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 13:34:02, End: 2025-11-20 14:04:02
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 13:34:02, 2025-11-20 14:04:02]
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 13:34:02
[20-Nov-2025 13:34:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 13:39:02
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 13:39:02
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 14:09:02
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 13:39:02, End: 2025-11-20 14:09:02
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 13:39:02, 2025-11-20 14:09:02]
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 13:39:02
[20-Nov-2025 13:39:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 13:44:02
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 13:44:02
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 14:14:02
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 13:44:02, End: 2025-11-20 14:14:02
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 13:44:02, 2025-11-20 14:14:02]
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 13:44:02
[20-Nov-2025 13:44:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 13:49:03
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 13:49:03
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 14:19:03
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 13:49:03, End: 2025-11-20 14:19:03
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 13:49:03, 2025-11-20 14:19:03]
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 13:49:03
[20-Nov-2025 13:49:03 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 13:54:02
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] [Database] Connected successfully to xegoo_db
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] === START REMINDER EMAIL PROCESS ===
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] Current server time: 2025-11-20 13:54:02
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] 30 minutes later: 2025-11-20 14:24:02
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] Query params - Start: 2025-11-20 13:54:02, End: 2025-11-20 14:24:02
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] SQL Query: 
                SELECT DISTINCT
                    c.maChuyenXe,
                    c.ngayKhoiHanh,
                    c.thoiGianKhoiHanh,
                    c.thoiGianKhoiHanh AS thoiGianKhoiHanhFull,
                    t.kyHieuTuyen,
                    t.diemDi,
                    t.diemDen,
                    l.maTuyenDuong,
                    lp.soChoMacDinh,
                    tx.tenNguoiDung AS tenTaiXe,
                    tx.soDienThoai AS soDienThoaiTaiXe,
                    COUNT(DISTINCT dv.maDatVe) as soBooking
                FROM chuyenxe c
                INNER JOIN lichtrinh l ON c.maLichTrinh = l.maLichTrinh
                INNER JOIN tuyenduong t ON l.maTuyenDuong = t.maTuyenDuong
                INNER JOIN phuongtien p ON c.maPhuongTien = p.maPhuongTien
                INNER JOIN loaiphuongtien lp ON p.maLoaiPhuongTien = lp.maLoaiPhuongTien
                LEFT JOIN nguoidung tx ON c.maTaiXe = tx.maNguoiDung
                INNER JOIN chitiet_datve cd ON c.maChuyenXe = cd.maChuyenXe
                INNER JOIN datve dv ON cd.maDatVe = dv.maDatVe
                WHERE 
                    c.thoiGianKhoiHanh > ?
                    AND c.thoiGianKhoiHanh <= ?
                    AND c.trangThai IN ('Sẵn sàng', 'Khởi hành')
                    AND dv.trangThai = 'DaThanhToan'
                GROUP BY c.maChuyenXe, c.ngayKhoiHanh, c.thoiGianKhoiHanh, t.kyHieuTuyen, t.diemDi, t.diemDen, l.maTuyenDuong, lp.soChoMacDinh, tx.tenNguoiDung, tx.soDienThoai
                ORDER BY c.thoiGianKhoiHanh ASC
            
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] [v0] Bindings: [2025-11-20 13:54:02, 2025-11-20 14:24:02]
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] Found 0 trips departing in next 30 minutes
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] [ReminderEmail] No upcoming trips found. Process completed.
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Result: {"success":true,"message":"Kh\u00f4ng c\u00f3 chuy\u1ebfn xe kh\u1edfi h\u00e0nh trong 30 ph\u00fat t\u1edbi","remindersSent":0}
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job completed at: 2025-11-20 13:54:02
[20-Nov-2025 13:54:02 Asia/Ho_Chi_Minh] ===============================================================================

[20-Nov-2025 13:59:02 Asia/Ho_Chi_Minh] ===============================================================================
[20-Nov-2025 13:59:02 Asia/Ho_Chi_Minh] [Cron-SendReminders] Job started at: 2025-11-20 13:59:02
[20-Nov-2025 13:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 958
[20-Nov-2025 13:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $filename declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $pixelPerPoint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $outerFrame declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
[20-Nov-2025 13:59:02 Asia/Ho_Chi_Minh] PHP Deprecated:  Optional parameter $saveandprint declared before required parameter $fore_color is implicitly treated as a required parameter in C:\xampp\htdocs\XeGoo\lib\phpqrcode\phpqrcode.php on line 3552
